<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/reset.css" rel="stylesheet" type="text/css" media="all"/>
    <link href="css/main.css" rel="stylesheet" type="text/css" media="all"/>
    <title>Rock Paper Scissors</title>
</head>
<body>
    <H1>Rock Paper Scissors</H1>
    
    <script>

        function computerPlay() {
            let array = ["Rock", "Paper", "Scissors"];
            return array[Math.floor(Math.random() * 3)];
        }

        function playRound(player, computer) {
            let playerChoice = player.toLowerCase();
            let computerChoice = computer.toLowerCase();
            if (computerChoice === playerChoice) {
                return playRound(playerChoice, computerPlay());
            } else if (computerChoice === "rock" && playerChoice === "paper") {
                console.log("You win! Paper beats rock!");
                return 1;
            } else if (computerChoice === "rock" && playerChoice === "scissors") {
                console.log("You lose! Rock beats scissors!");
                return -1;
            } else if (computerChoice === "paper" && playerChoice === "rock") {
                console.log("You lose! Paper beats rock!");
                return -1;
            } else if (computerChoice === "paper" && playerChoice === "scissors") {
                console.log("You win! Scissors beats paper!");
                return 1;
            } else if (computerChoice === "scissors" && playerChoice === "rock") {
                console.log("You win! Rock beats scissors!");
                return 1;
            } else if (computerChoice === "scissors" && playerChoice === "paper") {
                console.log("You lose! Scissors beats paper!");
                return -1;
            } else {
                return "Error. Player: " + player + " Computer: " + computer;
            }
        }

        function game() {
            let playerWins = 0;
            let computerWins = 0;

            for (let i = 0; i < 5; i++) {
                // let playerSelection = computerPlay(); 
                playerSelection = prompt("What's your choice?"); 
                let computerSelection = computerPlay();
                playerWins += playRound(playerSelection, computerSelection);

            }

            // console.log("Initial Player Wins: " + playerWins + " Initial Computer Wins: " + computerWins);

            while (playerWins + computerWins < 5) {
                playerWins++;
                computerWins++;
            }

            let result = playerWins > computerWins ? "Player Wins " + playerWins + ":" + computerWins
                : computerWins > playerWins ? "Computer Wins " + computerWins + ":" + playerWins
                : "Error! " + "Computer Wins: " + computerWins + " Player Wins: " + playerWins;

            return result;
        }
           
        
        console.log(game());
    
            

     


    
    
    </script>

    
</body>
</html>